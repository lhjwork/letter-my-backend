# 📮 Letter Community 백엔드 프로젝트 포트폴리오

## 🎯 프로젝트 개요

**Letter Community**는 사용자들이 편지를 작성하고 공유할 수 있는 소셜 플랫폼의 백엔드 시스템입니다. 특히 **실물 편지 배송 서비스**와 **작성자 승인 시스템**을 핵심 기능으로 하는 혁신적인 서비스입니다.

### 🔧 기술 스택

- **Backend**: Node.js, Express.js, TypeScript
- **Database**: MongoDB (Mongoose ODM)
- **Authentication**: JWT, OAuth (Naver, Kakao, Instagram)
- **Security**: Helmet, CORS, bcryptjs, 세션 관리
- **API Documentation**: Swagger
- **Deployment**: Render (Backend), Vercel (Frontend)
- **Package Manager**: pnpm

---

## 🚀 핵심 구현 기능

### 1. 편지 작성 및 관리 시스템

- **HTML 콘텐츠 지원**: Tiptap 에디터와 연동하여 서식이 있는 편지 작성
- **카테고리 분류**: 가족, 사랑, 우정, 성장, 위로, 추억, 감사 등 8개 카테고리
- **공개/비공개 설정**: 사연(공개) vs 친구편지(비공개) 구분
- **OG 이미지 자동 생성**: 소셜 미디어 공유 최적화

### 2. 사용자 인증 및 권한 관리

- **다중 OAuth 지원**: 네이버, 카카오, 인스타그램 로그인
- **JWT 기반 인증**: 안전한 토큰 관리
- **관리자 시스템**: 별도 인증 체계로 운영진 관리

### 3. 실물 편지 배송 시스템 ⭐

**가장 혁신적인 기능으로, 디지털 편지를 실제 종이 편지로 배송하는 서비스**

#### 3-1. 기본 실물 편지 시스템

- 편지당 1회 신청 제한
- 즉시 처리 방식
- 배송지 정보 수집 및 검증

#### 3-2. 누적 실물 편지 시스템

- 여러 명이 동일한 편지를 신청 가능
- 일정 수량 달성 시 일괄 처리
- 비용 효율성 극대화

#### 3-3. 작성자 승인 시스템 (최신 구현) 🎯

- **무제한 신청**: 방문자가 여러 번 신청 가능
- **작성자 승인**: 편지 작성자가 각 신청을 개별 승인/거절
- **세션 기반 식별**: 익명 사용자도 신청 가능
- **스팸 방지**: 1인당 최대 신청 수 제한
- **자동 승인 옵션**: 작성자 설정에 따른 즉시 승인

### 4. 소셜 기능

- **좋아요 시스템**: 편지에 대한 반응 기능
- **조회수 관리**: 본인 글 조회수 제외 로직
- **팔로우 시스템**: 사용자 간 팔로우 관계 (설계 완료)

### 5. 검색 및 필터링

- **무한 스크롤**: React Query 기반 페이지네이션
- **카테고리 필터**: 관심사별 편지 분류
- **검색 기능**: 제목, 내용, 작성자명 검색
- **정렬 옵션**: 최신순, 인기순, 오래된순

---

## 🏗️ 아키텍처 및 설계 패턴

### 1. MVC 패턴 적용

```
📁 src/
├── 📁 models/          # 데이터 모델 (Mongoose 스키마)
├── 📁 controllers/     # 비즈니스 로직 처리
├── 📁 services/        # 핵심 서비스 로직
├── 📁 routes/          # API 라우팅
├── 📁 middleware/      # 인증, 검증, 에러 처리
└── 📁 utils/           # 유틸리티 함수
```

### 2. 확장 가능한 데이터베이스 설계

- **Letter 모델**: 편지 기본 정보 + 실물 편지 통계 + 작성자 설정
- **User 모델**: 사용자 정보 + 배송지 관리 + 소셜 로그인
- **AuthorApprovalPhysicalRequest**: 작성자 승인 기반 실물 편지 신청
- **Like 모델**: 좋아요 기능 (복합 인덱스로 중복 방지)

### 3. 보안 및 성능 최적화

- **IP 해시 처리**: 개인정보 보호
- **MongoDB 인덱스**: 쿼리 성능 최적화
- **CORS 설정**: 프론트엔드 도메인별 접근 제어
- **입력 검증**: express-validator로 데이터 무결성 보장

---

## 💡 문제 해결 및 기술적 도전

### 1. ES Module 호환성 문제 해결

**문제**: `isomorphic-dompurify`와 `jsdom` 간 ES Module 충돌
**해결**: cheerio 기반 순수 HTML 정제 로직 구현

- XSS 방어 기능 유지
- 타입 안전성 확보
- 성능 개선

### 2. MongoDB Atlas → Local 마이그레이션

**문제**: 클라우드 DB에서 로컬 개발 환경으로 데이터 이전 필요
**해결**: 자동화된 마이그레이션 스크립트 개발

- 3개 컬렉션 (users: 3, letters: 13, tests: 1) 성공적 이전
- 데이터 무결성 검증 로직 포함

### 3. Git 보안 이슈 해결

**문제**: `.env.production` 파일이 실수로 커밋되어 MongoDB 자격증명 노출
**해결**: `git filter-branch`로 히스토리에서 완전 제거

- 보안 정책 강화
- `.gitignore` 업데이트

### 4. 복잡한 비즈니스 로직 설계

**도전**: 3가지 다른 실물 편지 시스템의 공존
**해결**:

- 각 시스템별 독립적인 라우트 설계 (`/physical-request` vs `/physical-requests`)
- 공통 인터페이스 추상화
- 확장 가능한 상태 관리 (enum 활용)

---

## 📊 프로젝트 성과 및 지표

### 개발 생산성

- **총 개발 기간**: 지속적 개발 (약 3개월)
- **커밋 수**: 50+ 커밋
- **API 엔드포인트**: 25+ 개
- **코드 라인 수**: 5,000+ 라인 (TypeScript)

### 기능 완성도

- ✅ 사용자 인증 시스템 (100%)
- ✅ 편지 CRUD 시스템 (100%)
- ✅ 실물 편지 시스템 3종 (100%)
- ✅ 소셜 기능 (좋아요, 조회수) (100%)
- ✅ 관리자 시스템 (100%)
- ✅ 검색 및 필터링 (100%)
- 🔄 팔로우 시스템 (설계 완료, 구현 대기)

### 기술적 품질

- **TypeScript 적용률**: 100%
- **API 문서화**: Swagger + 상세 마크다운 문서
- **테스트 커버리지**: 주요 기능별 테스트 스크립트 제공
- **에러 처리**: 포괄적인 에러 핸들링 및 검증

---

## 🎯 핵심 역량 및 학습 성과

### 1. 풀스택 개발 역량

- **백엔드**: Node.js/Express 생태계 숙련
- **데이터베이스**: MongoDB 스키마 설계 및 최적화
- **API 설계**: RESTful API 설계 원칙 적용
- **인증/보안**: JWT, OAuth, 세션 관리

### 2. 문제 해결 능력

- **복잡한 비즈니스 로직**: 3가지 실물 편지 시스템 설계
- **기술적 이슈**: ES Module 호환성, Git 보안 문제 해결
- **성능 최적화**: 데이터베이스 인덱싱, 쿼리 최적화

### 3. 협업 및 문서화

- **API 문서**: 개발자 친화적인 상세 문서 작성
- **코드 품질**: TypeScript, ESLint, Prettier 적용
- **버전 관리**: Git 브랜치 전략 및 커밋 메시지 규칙

### 4. 사용자 중심 사고

- **UX 고려**: 익명 사용자도 사용 가능한 시스템 설계
- **확장성**: 미래 기능 추가를 고려한 아키텍처
- **보안**: 개인정보 보호 및 스팸 방지 로직

---

## 🔮 향후 발전 계획

### 단기 목표 (1-2개월)

- [ ] 팔로우 시스템 구현 완료
- [ ] 실시간 알림 시스템 (WebSocket/SSE)
- [ ] 편지 통계 대시보드
- [ ] 모바일 앱 API 최적화

### 중기 목표 (3-6개월)

- [ ] AI 기반 편지 추천 시스템
- [ ] 다국어 지원 (i18n)
- [ ] 결제 시스템 연동
- [ ] 편지 템플릿 시스템

### 장기 목표 (6개월+)

- [ ] 마이크로서비스 아키텍처 전환
- [ ] GraphQL API 제공
- [ ] 편지 AI 작성 도우미
- [ ] 글로벌 서비스 확장

---

## 💼 이 프로젝트가 보여주는 개발자로서의 강점

### 1. **기술적 깊이**

- 단순한 CRUD를 넘어선 복잡한 비즈니스 로직 구현
- 실제 서비스 운영을 고려한 보안 및 성능 최적화
- 최신 기술 스택 활용 및 문제 해결 능력

### 2. **제품 사고력**

- 사용자 니즈를 기술로 구현하는 능력 (실물 편지 서비스)
- 확장 가능한 아키텍처 설계
- 운영 효율성을 고려한 관리자 시스템

### 3. **협업 역량**

- 프론트엔드 개발자와의 원활한 API 협업
- 명확한 문서화 및 커뮤니케이션
- 코드 품질 및 유지보수성 고려

### 4. **지속적 학습**

- 새로운 기술 도입 및 문제 해결
- 사용자 피드백 반영한 지속적 개선
- 트렌드에 맞는 기술 스택 선택

---

**이 프로젝트는 단순한 개인 프로젝트를 넘어, 실제 서비스 운영 가능한 수준의 백엔드 시스템입니다. 특히 '디지털을 아날로그로 연결하는' 혁신적인 아이디어를 기술로 구현한 점이 가장 큰 차별점입니다.**
